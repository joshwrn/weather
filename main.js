(()=>{"use strict";const e=e=>`https://api.openweathermap.org/data/2.5/weather?q=${e}&units=imperial&appid=9fd048a0fc1fbe1def9f57a580609f63`,t=document.documentElement,n=document.getElementById("input"),r=(document.getElementById("search-button"),document.getElementById("current-icon")),a=document.getElementById("current-temp"),s=document.getElementById("current-high"),i=document.getElementById("current-low"),o=document.getElementById("time"),l=document.getElementById("location"),d=document.getElementById("hourly-forecast"),c=(document.querySelectorAll("hourly-cell"),document.getElementById("circle"),()=>{t.style.setProperty("--before-filters","blur(50px) opacity(50%)"),t.style.setProperty("--spin-animation","")}),u=async r=>{t.style.setProperty("--before-filters","blur(50px) opacity(80%)"),t.style.setProperty("--spin-animation"," spin 1s linear infinite"),d.innerHTML="";let a=await(async(t="san francisco")=>{const n=await fetch(e(t),{mode:"cors"});return await n.json()})(r),s=await(async(t="san francisco")=>{const n=await fetch(e(t),{mode:"cors"}),r=await n.json(),a=await fetch((s=r.coord,`https://api.openweathermap.org/data/2.5/onecall?lat=${s.lat}&lon=${s.lon}&units=imperial&appid=70d3ce744008d557a872cee31d8820ce`),{mode:"cors"});var s;return await a.json()})(r);f(a),y(a),p(a),h(s.current.dt),L(s),c(),n.blur(),m(a.weather[0].id,s.current.dt),console.log(a),console.log(s)},m=(e,t)=>{let n=new Date(1e3*t);r.classList=v(e,n.getHours())},f=e=>{let t=Math.round(e.main.temp);a.innerHTML=`${t}째F`},y=e=>{let t=Math.round(e.main.temp_max),n=Math.round(e.main.temp_min);s.innerHTML=`${t}째F`,i.innerHTML=`${n}째F`},p=e=>{let t=e.name.toUpperCase(),n=e.sys.country;l.innerHTML=`${t}, ${n}`},h=e=>{o.innerHTML=E(e)},E=e=>{let t=new Date(1e3*e),n=g(t.getHours()),r=b(t.getHours());return`${n}:${w(t.getMinutes())}${r}, ${["SUN","MON","TUE","WED","THUR","FRI","SAT"][t.getDay()]}, ${["JAN","FEB","MAR","APR","MAY","JUN","JUL","AUG","SEP","OCT","NOV","DEC"][t.getMonth()]} ${t.getDate()}`},g=e=>e>0&&e<=12?e:e>12?e-12:0===e?"12":void 0,b=e=>0==e||e<12?"AM":e>=12?"PM":void 0,w=e=>e<10?"0"+e:e,v=(e,t)=>{if(t<6||t>18){if(800===e)return"fas fa-moon";if(e>=801&&e<=804)return"fas fa-cloud-moon";if(e>=701&&e<=781)return"fas fa-wind";if(e>=600&&e<=622)return"fas fa-snowflake";if(e>=500&&e<=531)return"fas fa-cloud-moon-rain";if(e>=300&&e<=321)return"fas fa-cloud-rain";if(e>=200&&e<=232)return"fas fa-bolt"}else if(t>=6&&t<=18){if(800===e)return"fas fa-sun";if(e>=801&&e<=804)return"fas fa-cloud-sun";if(e>=701&&e<=781)return"fas fa-wind";if(e>=600&&e<=622)return"fas fa-snowflake";if(e>=500&&e<=531)return"fas fa-cloud-sun-rain";if(e>=300&&e<=321)return"fas fa-cloud-rain";if(e>=200&&e<=232)return"fas fa-bolt"}},L=e=>{for(let t=1;t<=25;t++)M(e.hourly[t].dt,e.hourly[t].temp,e.hourly[t].weather[0].id)},M=(e,t,n)=>{let r=new Date(1e3*e),a=`${g(r.getHours())}${b(r.getHours())}`,s=`${i=t,Math.round(i)}째F`;var i;const o=document.createElement("div");o.className="hourly-cell";const l=document.createElement("p");l.classList="hr-time",l.innerHTML=a;const c=document.createElement("i");c.classList=`${v(n,r.getHours())}`;const u=document.createElement("p");u.classList="hr-temp",u.innerHTML=s,o.appendChild(l),o.appendChild(c),o.appendChild(u),d.appendChild(o)},P=document.documentElement,$=(document.getElementById("sidebar-icon"),document.getElementById("sb-close"),document.getElementById("sidebar"));u(),document.addEventListener("click",(async e=>{e.target.matches("#search-button")&&(u(n.value),n.value="")})),n.addEventListener("keydown",(e=>{13===e.keyCode&&""!==n.value&&(u(n.value),n.value="")})),n.addEventListener("focus",(()=>{t.style.setProperty("--before-filters","blur(50px) opacity(80%)"),t.style.setProperty("--spin-animation","spin 1.5s linear infinite")})),n.addEventListener("blur",(()=>{c()})),n.addEventListener("keydown",(e=>{13!==e.keyCode&&(t.style.setProperty("--before-transition","animation 1s, filter .2s"),t.style.setProperty("--before-filters","blur(65px) opacity(70%)"))})),n.addEventListener("keyup",(e=>{13!==e.keyCode&&(t.style.setProperty("--before-transition","animation 1s, filter 1s"),t.style.setProperty("--before-filters","blur(50px) opacity(80%)"))})),document.addEventListener("click",(e=>{e.target.matches("#sidebar-icon")&&($.style.setProperty("visibility","visible"),$.style.setProperty("width","250px"),P.style.setProperty("--sidebar-items","translate(0px)"))})),document.addEventListener("click",(e=>{e.target.matches("#sb-close")&&(P.style.setProperty("--sidebar-items","translate(-300px)"),$.style.setProperty("visibility","hidden"),$.style.setProperty("width","0px"))}))})();