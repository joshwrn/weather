(()=>{"use strict";const e=e=>`https://api.openweathermap.org/data/2.5/weather?q=${e}&units=imperial&appid=9fd048a0fc1fbe1def9f57a580609f63`,t=document.documentElement,n=document.getElementById("input"),a=(document.getElementById("search-button"),document.getElementById("current-icon")),r=document.getElementById("current-temp"),o=document.getElementById("current-high"),i=document.getElementById("current-low"),s=document.getElementById("time"),l=document.getElementById("location"),c=document.getElementById("hourly-forecast"),u=(document.querySelectorAll("hourly-cell"),document.getElementById("circle"),()=>{t.style.setProperty("--before-filters","blur(50px) opacity(50%)"),t.style.setProperty("--spin-animation","")}),d=async a=>{t.style.setProperty("--before-filters","blur(50px) opacity(80%)"),t.style.setProperty("--spin-animation"," spin 1s linear infinite"),c.innerHTML="";let r=await(async(t="san francisco")=>{const n=await fetch(e(t),{mode:"cors"});return await n.json()})(a),o=await(async(t="san francisco")=>{const n=await fetch(e(t),{mode:"cors"}),a=await n.json(),r=await fetch((o=a.coord,`https://api.openweathermap.org/data/2.5/onecall?lat=${o.lat}&lon=${o.lon}&units=imperial&appid=70d3ce744008d557a872cee31d8820ce`),{mode:"cors"});var o;return await r.json()})(a);m(r),p(r),y(r),h(o.current.dt),L(o),u(),n.blur(),f(r.weather[0].id,o.current.dt),console.log(r),console.log(o)},f=(e,t)=>{let n=new Date(1e3*t);a.classList=$(e,n.getHours())},m=e=>{let t=Math.round(e.main.temp);r.innerHTML=`${t}째F`},p=e=>{let t=Math.round(e.main.temp_max),n=Math.round(e.main.temp_min);o.innerHTML=`${t}째F`,i.innerHTML=`${n}째F`},y=e=>{let t=e.name.toUpperCase(),n=e.sys.country;l.innerHTML=`${t}, ${n}`},h=e=>{s.innerHTML=g(e)},g=e=>{let t=new Date(1e3*e),n=E(t.getHours()),a=w(t.getHours());return`${n}:${M(t.getMinutes())}${a}, ${["SUN","MON","TUE","WED","THUR","FRI","SAT"][t.getDay()]}, ${["JAN","FEB","MAR","APR","MAY","JUN","JUL","AUG","SEP","OCT","NOV","DEC"][t.getMonth()]} ${t.getDate()}`},E=e=>e>0&&e<=12?e:e>12?e-12:0===e?"12":void 0,w=e=>0==e||e<12?"AM":e>=12?"PM":void 0,M=e=>e<10?"0"+e:e,$=(e,t)=>{if(t<6||t>18){if(800===e)return"fas fa-moon";if(e>=801&&e<=804)return"fas fa-cloud-moon";if(e>=701&&e<=781)return"fas fa-wind";if(e>=600&&e<=622)return"fas fa-snowflake";if(e>=500&&e<=531)return"fas fa-cloud-moon-rain";if(e>=300&&e<=321)return"fas fa-cloud-rain";if(e>=200&&e<=232)return"fas fa-bolt"}else if(t>=6&&t<=18){if(800===e)return"fas fa-sun";if(e>=801&&e<=804)return"fas fa-cloud-sun";if(e>=701&&e<=781)return"fas fa-wind";if(e>=600&&e<=622)return"fas fa-snowflake";if(e>=500&&e<=531)return"fas fa-cloud-sun-rain";if(e>=300&&e<=321)return"fas fa-cloud-rain";if(e>=200&&e<=232)return"fas fa-bolt"}},L=e=>{for(let t=1;t<=25;t++)H(e.hourly[t].dt,e.hourly[t].temp,e.hourly[t].weather[0].id)},H=(e,t,n)=>{let a=new Date(1e3*e),r=`${E(a.getHours())}${w(a.getHours())}`,o=`${i=t,Math.round(i)}째F`;var i;const s=document.createElement("div");s.className="hourly-cell";const l=document.createElement("p");l.classList="hr-time",l.innerHTML=r;const u=document.createElement("i");u.classList=`${$(n,a.getHours())}`;const d=document.createElement("p");d.classList="hr-temp",d.innerHTML=o,s.appendChild(l),s.appendChild(u),s.appendChild(d),c.appendChild(s)};d(),document.addEventListener("click",(async e=>{e.target.matches("#search-button")&&(d(n.value),n.value="")})),n.addEventListener("keydown",(e=>{13===e.keyCode&&""!==n.value&&(d(n.value),n.value="")})),n.addEventListener("focus",(()=>{t.style.setProperty("--before-filters","blur(50px) opacity(80%)"),t.style.setProperty("--spin-animation","spin 2s linear infinite")})),n.addEventListener("blur",(()=>{u()}))})();